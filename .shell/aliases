alias ssh-copy-id="cat ~/.ssh/id_rsa.pub | ssh $1@$2 'cat >> ~/.ssh/authorized_keys'"

alias pyclean="find . -name '*.pyc' -exec rm -rf {} \;"

# ^_^;
alias love="/Applications/love.app/Contents/MacOS/love"

alias broken_symlinks='find -L . -type l'

# Accepts a single parameter, the language you which to make messages for (de, en, etc.)
makemessages () {
    if [ -z "$1" ]
    then
        echo "usage: makemessages <language>"
        return
    fi
    django-admin.py makemessages -l $1 -d django --ignore=media-server/static/* --ignore=media-server/admin/*
    django-admin.py makemessages -l $1 -d djangojs --ignore=media-server/static/* --ignore=media-server/admin/*
}

alias dynamic_media='rsync -av --delete gdev@tormedia02.gadventures.internal:/var/www/www.gapadventures.com/gapadventures/media-server/dynamic/ ~/dev/gadventures.com/gapadventures/media-server/dynamic --exclude=passport --exclude=background-checks --exclude=triplog_files --exclude=sherpa --exclude=reports --exclude=looptail --exclude=brochures'

alias vlc_stream='/Applications/VLC.app/Contents/MacOS/VLC -vvv $1 :http-user-agent="PS4 libhttp/1.76 (PlayStation 4)"'

function gapiprod () {
    http --session=gapi-prod https://rest.gadventures.com/$1 "${*:2}"
}

alias restart_dnsmasq='sudo launchctl unload /Library/LaunchDaemons/homebrew.mxcl.dnsmasq.plist ; sudo launchctl load /Library/LaunchDaemons/homebrew.mxcl.dnsmasq.plist'

function purge_prod_resource () {
    if [ -z "$1" ]
    then
        echo "usage: purge_prod_resource <resource/path>"
        return
    fi
    curl -X PURGE https://rest.gadventures.com/$1 -H "X-Application-Key: live_"
}

function purge_sandbox_resource () {
    if [ -z "$1" ]
    then
        echo "usage: purge_sandbox_resource <resource/path>"
        return
    fi
    curl -X PURGE https://rest.gadventures.com/$1 -H "X-Application-Key: test_"
}

function purge_sandbox_cache () {
    if [ -z "$1" ]
    then
        echo "usage: purge_sandbox_cache <resource>"
        return
    fi
    curl -X POST https://api.fastly.com/service/9bvuGZ9s7I9ZMuhpIH1FR/purge/$1 -H "Fastly-Key: b3e0ee0ae2401625a421e4314c06d049" -H "X-Application-Key: test_"

}
function purge_prod_cache () {
    if [ -z "$1" ]
    then
        echo "usage: purge_prod_cache <resource>"
        return
    fi
    curl -X POST https://api.fastly.com/service/9bvuGZ9s7I9ZMuhpIH1FR/purge/$1 -H "Fastly-Key: b3e0ee0ae2401625a421e4314c06d049" -H "X-Application-Key: live_"
}

function tabname () {
    if [ -z "$1" ]
    then
        echo "usage: tabname <name of tab>"
        return
    fi
    echo -e "\033];$1\007"
}

# Elastic Search
alias start_elasticsearch='elasticsearch --config=/usr/local/opt/elasticsearch/config/elasticsearch.yml'
